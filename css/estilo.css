:root{
  --bg:#0f1114;
  --paper:#c8b99e;
  --paper-light:#e6d9bf;
  --ember-red:#c43b1a;
  --ember-orange:#f08a2a;
  --ember-gold:#ffd066;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:
    radial-gradient(1100px 780px at 20% 10%, #1a1e24 0, transparent 60%),
    radial-gradient(900px 600px at 80% 90%, #13171b 0, transparent 55%),
    repeating-linear-gradient(135deg, rgba(255,255,255,.03) 0 2px, rgba(255,255,255,0) 2px 4px),
    var(--bg);
  font-family:"Cormorant Garamond",serif;
  display:grid;place-items:center;padding:40px;color:#1a140c;
}

/* Pergaminho */
.pergaminho{
  position:relative;width:min(880px,92vw);min-height:min(760px,82vh);
  padding:24px;border-radius:14px;overflow:hidden;isolation:isolate;
  background:
    radial-gradient(240px 180px at 30% 20%, rgba(60,40,20,.08), transparent 70%),
    radial-gradient(200px 150px at 65% 35%, rgba(30,20,10,.06), transparent 80%),
    radial-gradient(260px 200px at 75% 80%, rgba(70,45,25,.07), transparent 80%),
    repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 2px, rgba(255,255,255,0) 2px 4px),
    linear-gradient(180deg, var(--paper-light), var(--paper));
  box-shadow:0 25px 70px rgba(0,0,0,.55),0 8px 24px rgba(0,0,0,.35);
}

/* Selo */
.selo-img{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:170px;cursor:pointer;
  filter:drop-shadow(0 0 14px rgba(150,0,255,.45));
  transition:transform .25s ease, filter .4s ease, opacity .6s ease;
}
.selo-img:hover{transform:translate(-50%,-50%) scale(1.05);filter:drop-shadow(0 0 24px rgba(180,0,255,.65))}
.selo-img.ativado{animation:seloPulse 2s ease-in-out infinite}
@keyframes seloPulse{0%,100%{filter:drop-shadow(0 0 22px rgba(190,0,255,.6))}50%{filter:drop-shadow(0 0 36px rgba(230,0,255,.8))}}

/* Carta */
.carta{
  position:relative;border-radius:8px;padding:18px;
  line-height:1.5;font-size:18px;text-align:justify;
  background:linear-gradient(transparent 0 36px, rgba(255,255,255,.12) 36px 37px, transparent 37px 100%);
  clip-path:polygon(49.5% 0, 50.5% 0, 50.5% 100%, 49.5% 100%);
  opacity:0;transition:clip-path 1100ms cubic-bezier(.2,.7,.2,1),opacity 500ms ease;
}
.carta::before{
  content:"";position:absolute;inset:-2px;pointer-events:none;opacity:0;mix-blend-mode:screen;
  background:
    radial-gradient(120px 80px at 50% 0%, rgba(255,200,120,.25), transparent 60%),
    radial-gradient(120px 80px at 50% 100%, rgba(255,200,120,.25), transparent 60%),
    linear-gradient(90deg, transparent 49%, rgba(255,210,140,.65) 50%, transparent 51%);
  transition:opacity 1100ms ease;
}
.pergaminho.revealed .carta{clip-path:inset(0% 0% 0% 0% round 8px);opacity:1}
.pergaminho.revealed .carta::before{opacity:.9;animation:fadeGlow 1200ms ease forwards}
@keyframes fadeGlow{0%{opacity:.9}100%{opacity:.15}}

/* Assinatura */
.rodape{display:flex;align-items:flex-end;justify-content:flex-start;padding:10px 6px 4px}
.assinatura{max-width:78%;opacity:0;transition:opacity 1600ms ease}
.assinatura-brasa{
  position:relative;font-family:"Cinzel Decorative",serif;font-weight:700;
  font-size:20px;letter-spacing:.02em;color:transparent;
  background:linear-gradient(90deg,var(--ember-red),var(--ember-orange),var(--ember-gold));
  -webkit-background-clip:text;background-clip:text;
  text-shadow:0 0 8px rgba(240,110,50,.28),0 0 18px rgba(255,170,80,.18);
}

/* Runas */
.runes{display:inline-flex;gap:.02em;user-select:none;position:relative;
  color:transparent;background:linear-gradient(90deg,var(--ember-red),var(--ember-orange),var(--ember-gold));-webkit-background-clip:text;background-clip:text;
}
.rune{position:relative;display:inline-block;transform-origin:50% 70%;
  transition:transform 800ms cubic-bezier(.25,.7,.2,1),opacity 800ms ease;
}
.rune::after{
  content:attr(data-ghost);position:absolute;inset:0;pointer-events:none;
  color:rgba(255,200,130,.35);transform:translateY(8%) scale(.96);opacity:.3;
}

/* Part√≠culas */
.spark{position:absolute;width:2px;height:2px;border-radius:50%;
  background:radial-gradient(circle,var(--ember-gold),transparent 60%);
  pointer-events:none;opacity:0;transform:translate(-50%,-50%) scale(1);animation:spark 1.8s ease-in forwards;
}
@keyframes spark{0%{opacity:0;transform:translate(-50%,-30%) scale(.4)}12%{opacity:.9}100%{opacity:0;transform:translate(-50%,-140%) scale(1.6)}}

/* A11y */
.a11y{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}
