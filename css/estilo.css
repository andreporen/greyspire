/* ================================
   VARIÁVEIS E BASE
===================================*/
:root{
  --bg:#0b0a09;
  --purple:#b24cff;
  --pulse:#b24cff66;
  --bpm:60; /* 60 bpm = 1 pulsação por segundo */
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  background:var(--bg);
  display:grid;
  place-items:center;
  color:#0a0a0a;
  font-family:"Uncial Antiqua", serif;
  -webkit-font-smoothing:antialiased;
  overflow:hidden;
}

/* ================================
   PERGAMINHO
===================================*/
.pergaminho{
  position:relative;
  width:min(920px,94vw);
  min-height:min(760px,86vh);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  border-radius:14px;
  background:#bca97b url("../img/pergaminho_base.jpg") center/cover no-repeat;
  filter:saturate(1.08) contrast(1.05) brightness(0.95);
  box-shadow:0 0 50px rgba(0,0,0,.7);
  opacity:1;
  transition:filter 1.2s ease;
  isolation:isolate;
}

.pergaminho.revealed{
  filter:saturate(1.3) brightness(1.12);
}

/* efeito de fenda/pulsação no pergaminho */
@keyframes parchmentPulse{
  0%,100%{filter:brightness(0.95)}
  50%{filter:brightness(1.12) saturate(1.25)}
}
.pergaminho.fenda-pulse{
  animation:parchmentPulse calc(60s/var(--bpm)) infinite ease-in-out;
}

/* ================================
   SELO CENTRAL
===================================*/
.selo-btn{
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  border:0;
  background:transparent;
  cursor:pointer;
  z-index:3;
  transition:opacity .6s ease, transform .4s ease;
}
.selo-img{
  width:180px;
  height:180px;
  filter:drop-shadow(0 0 22px rgba(178,76,255,.45));
  transition:transform .3s ease;
}
.selo-btn:hover .selo-img{
  transform:scale(1.05);
}
.selo-btn.hidden{
  opacity:0;
  pointer-events:none;
  transform:translate(-50%,-50%) scale(.9);
}

/* ================================
   CARTA
===================================*/
.carta{
  position:relative;
  z-index:2;
  width:84%;
  max-width:820px;
  min-height:520px;
  padding:28px;
  border-radius:6px;
  text-align:justify;
  opacity:0;
  transition:opacity .8s ease;
  filter:blur(6px);
}
.pergaminho.revealed .carta{
  opacity:1;
  filter:blur(0px);
  transition:opacity 1.2s ease, filter 1.6s ease;
}

.conteudo p{
  margin:0 0 1rem 0;
  color:#0a0a0a;
  text-shadow:0 0 6px rgba(178,76,255,.18);
  line-height:1.7;
  font-size:18px;
}

/* ================================
   ASSINATURA CORROMPIDA
===================================*/
.assinatura-wrap{
  margin-top:22px;
  display:flex;
  justify-content:flex-start;
}

.assinatura{
  position:relative;
  font-family:"MedievalSharp", cursive;
  font-size:26px;
  letter-spacing:.04em;
  color:#000;
  opacity:0;
  transform:scale(.96);
  transition:opacity 1.4s ease, transform 1.4s ease;
  text-shadow:
    0 0 8px rgba(178,76,255,.45),
    0 0 22px rgba(178,76,255,.30),
    0 0 45px rgba(178,76,255,.20);
}
.pergaminho.revealed .assinatura{
  opacity:1;
  transform:scale(1);
}

/* Duplicação espectral */
.assinatura::before,
.assinatura::after{
  content:attr(data-text);
  position:absolute;
  inset:0;
  mix-blend-mode:screen;
  pointer-events:none;
}
.assinatura::before{
  color:rgba(255,0,255,.28);
  transform:translate(1px,-1px);
}
.assinatura::after{
  color:rgba(150,0,255,.42);
  transform:translate(-1px,1px);
}

/* pulsação da fenda envolta da assinatura */
@keyframes corruptPulse{
  0%,100%{ filter:drop-shadow(0 0 6px var(--purple)) }
  50%{ filter:drop-shadow(0 0 26px var(--purple)) }
}
.assinatura.fenda{
  animation:corruptPulse calc(60s/var(--bpm)) infinite ease-in-out;
}

/* ================================
   PARTÍCULAS DA FENDA
===================================*/
.spark{
  position:absolute;
  width:3px;
  height:3px;
  border-radius:50%;
  background:radial-gradient(circle, #ffdca3, rgba(255,255,255,0));
  pointer-events:none;
  animation:sparkRise 1.3s ease-out forwards;
}
@keyframes sparkRise{
  0%{ opacity:1; transform:translateY(0) scale(.6) }
  100%{ opacity:0; transform:translateY(-70px) scale(1.5) }
}

/* ================================
   ACESSIBILIDADE
==================================
